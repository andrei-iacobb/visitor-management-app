# Server Configuration
PORT=3000
NODE_ENV=development
# TODO: PRODUCTION - Set NODE_ENV=production for production deployments
# TODO: PRODUCTION - Configure CORS_ORIGIN environment variable for proxy URL
CORS_ORIGIN=http://localhost:3000

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=visitor_management
DB_USER=postgres
DB_PASSWORD=your_password_here
# TODO: PRODUCTION - Use environment-specific credentials from secrets manager (AWS Secrets Manager, HashiCorp Vault)
# TODO: PRODUCTION - For Docker: Use database service DNS endpoint (e.g., db-service or postgres-container-name)
# TODO: PRODUCTION - For Kubernetes: Use service DNS (e.g., postgres.default.svc.cluster.local)
# TODO: PRODUCTION - Enable SSL_MODE=require for production database connections

# Azure AD & SharePoint Configuration (Optional)
AZURE_TENANT_ID=your_tenant_id  # ← Get from Azure Portal → App Registration
AZURE_CLIENT_ID=your_client_id  # ← Get from Azure Portal → App Registration
AZURE_CLIENT_SECRET=your_client_secret  # ← Generate in Azure Portal → Certificates & secrets
SHAREPOINT_SITE_ID=your_site_id  # ← Get from Graph Explorer
SHAREPOINT_DRIVE_ID=your_drive_id  # ← Get from Graph Explorer

# Excel File Paths (relative to drive root)
CONTRACTORS_EXCEL_PATH=/VisitorManagement/AllowedContractors.xlsx
VEHICLES_EXCEL_PATH=/VisitorManagement/VehicleRegistry.xlsx

# Features
ENABLE_SHAREPOINT=false  # Set to true to enable SharePoint integration

# Data Archival Configuration
# Set to 'false' to disable automated archival
ENABLE_DATA_ARCHIVAL=true

# Cron schedule for archival job (default: 1st of each month at 2 AM)
# Format: minute hour day-of-month month day-of-week
# Examples:
#   '0 2 1 * *'    - 1st of every month at 2:00 AM
#   '0 3 * * 0'    - Every Sunday at 3:00 AM
#   '0 0 1 1,4,7,10 *' - First day of each quarter at midnight
ARCHIVAL_CRON_SCHEDULE=0 2 1 * *

# Number of days to retain records before archiving (default: 90 days)
ARCHIVAL_RETENTION_DAYS=90

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here_minimum_32_characters
JWT_EXPIRES_IN=24h
# TODO: PRODUCTION - Generate a strong, unique JWT secret (minimum 64 characters recommended)
# TODO: PRODUCTION - Store JWT_SECRET in secrets manager, not in .env file

# Admin User Configuration
# CRITICAL: Run `node scripts/setup-admin.js` to generate ADMIN_PASSWORD_HASH
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=
# Example: ADMIN_PASSWORD_HASH=$2a$10$abcdefghijklmnopqrstuvwxyz1234567890
# To generate hash: node scripts/setup-admin.js your_password

# mTLS Configuration (Mutual TLS for Android client authentication)
ENABLE_MTLS=false
CERT_PATH=./certs/server-cert.pem
KEY_PATH=./certs/server-key.pem
CA_PATH=./certs/ca-cert.pem
# TODO: PRODUCTION - Enable mTLS for production deployments
# TODO: PRODUCTION - Store certificates in secure vault or key management service

# Logging Configuration
LOG_LEVEL=info
# Options: error, warn, info, debug
# TODO: PRODUCTION - Set LOG_LEVEL=warn or LOG_LEVEL=error in production
